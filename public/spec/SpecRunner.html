<!DOCTYPE html>
<html>
<head>
    <title>Jasmine Spec Runner</title>
    <link rel="shortcut icon" type="image/png" href="phantom-jasmine/vendor/jasmine-1.2.0/jasmine_favicon.png">
    <link rel="stylesheet" type="text/css" href="phantom-jasmine/vendor/jasmine-1.2.0/jasmine.css">
    <script type="text/javascript" src="phantom-jasmine/vendor/jasmine-1.2.0/jasmine.js"></script>
    <script type="text/javascript" src="phantom-jasmine/vendor/jasmine-1.2.0/jasmine-html.js"></script>
    <script type="text/javascript" src="phantom-jasmine/lib/console-runner.js"></script>

    <script type="text/javascript" src="../lib/require/require.js"></script>

    <script type="text/javascript">
        var console_reporter = new jasmine.ConsoleReporter();

        require.config({
          baseUrl: '../../app/',
          paths: {
            jquery: '../lib/jquery/jquery-1.7.2.min',
            underscore: '../lib/underscore/underscore',
            backbone: '../lib/backbone/backbone',
            backbone_marionette: '../lib/backbone.marionette/backbone.marionette',
            backbone_modelbinder: '../lib/backbone.modelbinder/Backbone.ModelBinder.min',
            text: '../lib/require/text',
            sinon: '../lib/sinon/sinon-1.4.2'
          },
          shim: {
            'underscore': {
              exports: '_'
            },
            'backbone': {
              deps: ['underscore', 'jquery'],
              exports: 'Backbone'
            }
          }
        });


        require([
            //include all specs to be run
            'jquery',
            'text',
            'sinon',
            'backbone_marionette',
            'app',
            '../spec/javascripts/user.spec',
            '../spec/javascripts/session.spec',
            '../spec/javascripts/loginSignup.spec'
        ],
            function($, text, sinon, BackboneMarionette, App) {
                App.start();
                                  
                $(document).ready(function() {
                    // run tests with headless phantom console support
                    jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
                    jasmine.getEnv().addReporter(new jasmine.ConsoleReporter());
                    jasmine.getEnv().execute();
                });
            });
    </script>
</head>

<body>
</body>
</html>