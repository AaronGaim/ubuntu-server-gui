<!DOCTYPE html>
<html>
<head>
    <title>Jasmine Spec Runner</title>
    <link rel="shortcut icon" type="image/png" href="phantom-jasmine/vendor/jasmine-1.2.0/jasmine_favicon.png">
    <link rel="stylesheet" type="text/css" href="phantom-jasmine/vendor/jasmine-1.2.0/jasmine.css">
    <script type="text/javascript" src="phantom-jasmine/vendor/jasmine-1.2.0/jasmine.js"></script>
    <script type="text/javascript" src="phantom-jasmine/vendor/jasmine-1.2.0/jasmine-html.js"></script>
    <script type="text/javascript" src="phantom-jasmine/lib/console-runner.js"></script>

    <script type="text/javascript" src="../lib/require/require.js"></script>

    <script type="text/javascript">
        var console_reporter = new jasmine.ConsoleReporter();

        require.config({
          baseUrl: '../../app/',
          paths: {
            jquery: '../lib/jquery/jquery-1.7.2.min',
            underscore: '../lib/underscore/underscore',
            backbone: '../lib/backbone/backbone',
            backbone_dualstorage: '../lib/backbone.dualstorage/backbone.dualstorage',
            backbone_marionette: '../lib/backbone.marionette/backbone.marionette',
            backbone_modelbinder: '../lib/backbone.modelbinder/Backbone.ModelBinder.min',
            text: '../lib/require/text',
            bootstrap_modal: '../css/sass-twitter-bootstrap/js/bootstrap-modal',
            bootstrap_transition: '../css/sass-twitter-bootstrap/js/bootstrap-transition',
            gauge: '../lib/gauge.js/dist/gauge',
            contextmenu: '../lib/contextmenu/contextmenu',
            sinon: '../lib/sinon/sinon-1.4.2'
          },
          shim: {
            'underscore': {
              exports: '_'
            },
            'backbone': {
              deps: ['underscore', 'jquery'],
              exports: 'Backbone'
            },
            'backbone_dualstorage': {
              deps: ['backbone']
            },
            'bootstrap_modal': {
              deps: ['jquery'],
              exports: 'jQuery.fn.modal'
            },
            'bootstrap_transition': {
              deps: ['jquery']
            },
            'gauge': {
              deps: ['jquery'],
              exports: 'Donut'
            },
            'contextmenu': {
              exports: 'contextmenu'
            }
          }
        });



        require([
            //include all specs to be run
            'jquery',
            'text',
            'sinon',
            'backbone_marionette',
            'app',
            'backbone_dualstorage',
            '../spec/javascripts/model/user.spec',
            '../spec/javascripts/model/session.spec',
            '../spec/javascripts/model/server.spec',

            '../spec/javascripts/view/loginSignup.spec'
        ],
            function($, text, sinon, BackboneMarionette, App) {
                App.start();
                                  
                $(document).ready(function() {
                    // run tests with headless phantom console support
                    jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
                    jasmine.getEnv().addReporter(new jasmine.ConsoleReporter());
                    jasmine.getEnv().execute();
                });
            });
    </script>
</head>

<body>
</body>
</html>